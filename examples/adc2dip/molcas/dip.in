#!/bin/bash

echo This calculation was done on `hostname`
#
####################################################
#
# Molcas SCF run

mol="hcl"
export WorkDir=`pwd`

cat <<EOF > $mol.inp
 &SEWARD &END 
Title
  HCL DZP uncontracted
SYMM
x y
*!  DZP (Dunning)  EMSL  Basis Set Exchange Library   5/13/11 4:32 AM
*! T.H. DUNNING, JR., J. CHEM. PHYS. 53, 2823 (1970). 
*!  T.H. DUNNING, JR. AND P.J. HAY, IN METHODS OF ELECTRONIC STRUCTURE THEORY, 
*!  VOL. 2, H.F. SCHAEFER III, ED., PLENUM PRESS (1977).
*!   
*!  H - F: T.H. DUNNING JR. AND P.J. HAY, IN METHODS OF ELECTRONIC STRUCTURE 
*!               THEORY VOL. 2, H.F. SCHAEFER III, ED., PLENUM PRESS (1977). 
*!   Si - Cl:    E. MAGNUSSON AND H.F. SCHAEFER III, JCP 83, 5721 (1985).
*!   
*! The basis is uncontracted!!!
*!
*! BASIS SET = DZP (Dunning)
*!
* HYDROGEN       (4s,1p) -> [2s,1p]
* HYDROGEN       (4s)->[2s]
* HYDROGEN       (1p)
Basis set
H...... / inline
          1.   1
* S-type functions
    4    4
             19.2406000        
              2.8992000        
              0.6534000        
              0.1776000        
      1.0000000   0.0000000   0.0000000   0.0000000  
      0.0000000   1.0000000   0.0000000   0.0000000        
      0.0000000   0.0000000   1.0000000   0.0000000        
      0.0000000   0.0000000   0.0000000   1.0000000        
* P-type functions
    1    1
              1.0000000        
      1.0000000        
H1 0.000 0.000 0.0 angstrom
End of Basis
* CHLORINE       (12s,8p,1d) -> [6s,4p,1d]
* CHLORINE       (12s,8p)->[6s,4p]
* CHLORINE       (1d)
Basis set
CL..... / inline
          17.   2
* S-type functions
    11    11
          40850.0000000        
           6179.0000000        
           1425.0000000        
            409.2000000        
            135.5000000        
             50.1300000        
             20.2100000        
              6.2830000        
              2.4600000        
              0.5271000        
              0.1884000        
      1.0000000   0.0000000   0.0000000    0.0000000    0.0000000   0.0000000  0.0000000   0.0000000  0.0000000  0.0000000  0.0000000
      0.0000000   1.0000000   0.0000000    0.0000000    0.0000000   0.0000000  0.0000000   0.0000000  0.0000000  0.0000000  0.0000000
      0.0000000   0.0000000   1.0000000    0.0000000    0.0000000   0.0000000  0.0000000   0.0000000  0.0000000  0.0000000  0.0000000
      0.0000000   0.0000000   0.0000000    1.0000000    0.0000000   0.0000000  0.0000000   0.0000000  0.0000000  0.0000000  0.0000000
      0.0000000   0.0000000   0.0000000    0.0000000    1.0000000   0.0000000  0.0000000   0.0000000  0.0000000  0.0000000  0.0000000
      0.0000000   0.0000000   0.0000000    0.0000000    0.0000000   1.0000000  0.0000000   0.0000000  0.0000000  0.0000000  0.0000000
      0.0000000   0.0000000   0.0000000    0.0000000    0.0000000   0.0000000  1.0000000   0.0000000  0.0000000  0.0000000  0.0000000
      0.0000000   0.0000000   0.0000000    0.0000000    0.0000000   0.0000000  0.0000000   1.0000000  0.0000000  0.0000000  0.0000000
      0.0000000   0.0000000   0.0000000    0.0000000    0.0000000   0.0000000  0.0000000   0.0000000  1.0000000  0.0000000  0.0000000
      0.0000000   0.0000000   0.0000000    0.0000000    0.0000000   0.0000000  0.0000000   0.0000000  0.0000000  1.0000000  0.0000000
      0.0000000   0.0000000   0.0000000    0.0000000    0.0000000   0.0000000  0.0000000   0.0000000  0.0000000  0.0000000  1.0000000
* P-type functions
    7    7
            240.8000000        
             56.5600000        
             17.8500000        
              6.3500000        
              2.4030000        
              0.6410000        
              0.1838000        
      1.0000000   0.0000000   0.0000000   0.0000000  0.0000000  0.0000000   0.0000000 
      0.0000000   1.0000000   0.0000000   0.0000000  0.0000000  0.0000000   0.0000000 
      0.0000000   0.0000000   1.0000000   0.0000000  0.0000000  0.0000000   0.0000000 
      0.0000000   0.0000000   0.0000000   1.0000000  0.0000000  0.0000000   0.0000000 
      0.0000000   0.0000000   0.0000000   0.0000000  1.0000000  0.0000000   0.0000000 
      0.0000000   0.0000000   0.0000000   0.0000000  0.0000000  1.0000000   0.0000000  
      0.0000000   0.0000000   0.0000000   0.0000000  0.0000000  0.0000000   1.0000000 
* D-type functions
    1    1
              0.7500000        
      1.0000000        
Cl1 0.000 0.000  1.283023 angstrom
End of basis
End of input

&scf

&motra
frozen
3 1 1 0
delete
10 3 3 0
EOF


molcas $mol.inp
# Files needed by phis
mv  $mol.RunFile RUNFILE
mv  $mol.ScfOrb  INPORB
mv  $mol.TraInt  TRAINT
mv  $mol.TraOne  TRAONE
mv  $mol.OneInt  ONEINT
#
#
#############################################################################
#
# ADC IP calculation


$PWD/../../../theADCcode << EOF
&frontend
molcas
&propagator
adc2dip; spin 1 3
&diagonalizer
lanczos
iter 400
&eigen
ps 0.1
thresh 0.000001
EOF

#Clean up the mess
rm -f $mol.* extract.xml  molcas*  stdin RUNFILE INPORB TRAINT TRAONE ONEINT

